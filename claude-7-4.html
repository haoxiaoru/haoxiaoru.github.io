<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>和弦的宇宙：探索音乐的和声结构</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.4.2/dist/echarts.min.js"></script>
    <style>
        :root {
            --primary-font: 'Noto Serif SC', Georgia, serif;
            --heading-font: 'Noto Serif SC', Georgia, serif;
            --primary-color: #121212;
            --secondary-color: #4a4a4a;
            --accent-color: #6b46c1;
            --background-color: #fcfcfc;
            --light-gray: #f3f4f6;
            --border-color: #e5e7eb;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: var(--primary-font);
            line-height: 1.8;
            color: var(--primary-color);
            background-color: var(--background-color);
            font-size: 18px;
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        header {
            padding: 40px 0 30px;
            text-align: center;
            border-bottom: 1px solid var(--border-color);
            margin-bottom: 40px;
        }
        
        h1 {
            font-family: var(--heading-font);
            font-size: 2.75rem;
            font-weight: 900;
            margin-bottom: 16px;
            line-height: 1.2;
            letter-spacing: -0.02em;
        }
        
        h2 {
            font-family: var(--heading-font);
            font-size: 1.75rem;
            font-weight: 700;
            margin: 40px 0 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }
        
        h3 {
            font-family: var(--heading-font);
            font-size: 1.5rem;
            font-weight: 600;
            margin: 30px 0 15px;
        }
        
        p {
            margin-bottom: 24px;
            font-size: 1.1rem;
        }
        
        .subtitle {
            font-size: 1.25rem;
            color: var(--secondary-color);
            font-style: italic;
            max-width: 700px;
            margin: 0 auto 20px;
        }
        
        .container {
            display: flex;
            flex-wrap: wrap;
            margin-top: 30px;
        }
        
        .sidebar {
            width: 260px;
            position: sticky;
            top: 40px;
            align-self: flex-start;
            padding-right: 30px;
            height: calc(100vh - 80px);
            overflow-y: auto;
            scrollbar-width: thin;
            display: block;
        }
        
        .content {
            flex: 1;
            min-width: 0;
            max-width: 900px;
        }
        
        @media (max-width: 960px) {
            .sidebar {
                display: none;
            }
            
            .content {
                width: 100%;
                max-width: 100%;
            }
        }
        
        nav ul {
            list-style: none;
            padding-left: 10px;
        }
        
        nav ul li {
            margin-bottom: 8px;
        }
        
        nav ul li a {
            text-decoration: none;
            color: var(--secondary-color);
            font-size: 1rem;
            transition: color 0.2s;
            display: block;
            padding: 5px 0;
            border-left: 2px solid transparent;
            padding-left: 15px;
        }
        
        nav ul li a:hover, nav ul li a.active {
            color: var(--accent-color);
            border-left: 2px solid var(--accent-color);
        }
        
        .chart-container {
            width: 100%;
            height: 400px;
            margin: 30px 0;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
        }
        
        .chord-example {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin: 20px 0;
        }
        
        .chord-card {
            flex: 1;
            min-width: 200px;
            padding: 20px;
            background-color: var(--light-gray);
            border-radius: 8px;
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .chord-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .chord-name {
            font-weight: bold;
            margin-bottom: 10px;
            font-size: 1.2rem;
        }
        
        .chord-notes {
            color: var(--secondary-color);
        }
        
        .tab-container {
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
            margin: 30px 0;
        }
        
        .tab-buttons {
            display: flex;
            background-color: var(--light-gray);
        }
        
        .tab-button {
            padding: 12px 20px;
            border: none;
            background: none;
            cursor: pointer;
            font-family: var(--primary-font);
            font-size: 1rem;
            transition: background-color 0.2s;
            flex: 1;
            text-align: center;
            border-bottom: 2px solid transparent;
        }
        
        .tab-button.active {
            border-bottom: 2px solid var(--accent-color);
            color: var(--accent-color);
            background-color: white;
        }
        
        .tab-content {
            padding: 20px;
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        figure {
            margin: 30px 0;
            text-align: center;
        }
        
        img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
        }
        
        figcaption {
            margin-top: 10px;
            color: var(--secondary-color);
            font-size: 0.9rem;
            font-style: italic;
        }
        
        blockquote {
            margin: 30px 0;
            padding: 20px 30px;
            border-left: 4px solid var(--accent-color);
            background-color: var(--light-gray);
            font-style: italic;
            color: var(--secondary-color);
        }
        
        .quiz-container {
            background-color: var(--light-gray);
            padding: 25px;
            border-radius: 8px;
            margin: 40px 0;
            border: 1px solid var(--border-color);
        }
        
        .quiz-title {
            font-weight: bold;
            font-size: 1.3rem;
            margin-bottom: 20px;
        }
        
        .quiz-question {
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin: 15px 0 25px;
        }
        
        .quiz-option {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            background-color: white;
            border: 1px solid var(--border-color);
            border-radius: 6px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .quiz-option:hover {
            background-color: #f0f0f0;
        }
        
        .quiz-option.selected {
            background-color: #e6e0ff;
            border-color: var(--accent-color);
        }
        
        .quiz-option.correct {
            background-color: #e6ffe0;
            border-color: #4caf50;
        }
        
        .quiz-option.incorrect {
            background-color: #ffe6e0;
            border-color: #f44336;
        }
        
        .quiz-submit {
            padding: 10px 20px;
            background-color: var(--accent-color);
            color: white;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-family: var(--primary-font);
            font-size: 1rem;
            transition: background-color 0.2s;
        }
        
        .quiz-submit:hover {
            background-color: #5a3ab7;
        }
        
        .quiz-submit:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        
        .quiz-feedback {
            margin-top: 15px;
            padding: 10px;
            border-radius: 6px;
            display: none;
        }
        
        .quiz-feedback.correct {
            background-color: #e6ffe0;
            color: #2e7d32;
            display: block;
        }
        
        .quiz-feedback.incorrect {
            background-color: #ffe6e0;
            color: #c62828;
            display: block;
        }
        
        .quiz-explanation {
            margin-top: 20px;
            padding: 15px;
            background-color: #f5f5f5;
            border-radius: 6px;
            display: none;
        }

        .interactive-piano {
            margin: 40px 0;
        }
        
        .piano-keys {
            display: flex;
            justify-content: center;
            position: relative;
            height: 150px;
            margin: 0 auto;
            max-width: 100%;
        }
        
        .piano-key {
            flex: 1;
            border: 1px solid #333;
            border-bottom-left-radius: 5px;
            border-bottom-right-radius: 5px;
            background-color: white;
            position: relative;
            cursor: pointer;
            transition: background-color 0.1s;
            display: flex;
            align-items: flex-end;
            justify-content: center;
            padding-bottom: 10px;
        }
        
        .piano-key:active, .piano-key.active {
            background-color: #e6e6e6;
        }
        
        .piano-key.black {
            background-color: #333;
            color: white;
            width: 60%;
            height: 60%;
            position: absolute;
            z-index: 1;
            top: 0;
        }
        
        .highlight {
            color: var(--accent-color);
            font-weight: bold;
        }
        
        @keyframes chordFade {
            0% { opacity: 0.3; }
            100% { opacity: 1; }
        }
        
        .chord-animation {
            animation: chordFade 1s ease-in-out;
        }
        
        .reference-section {
            margin-top: 60px;
            padding-top: 30px;
            border-top: 1px solid var(--border-color);
        }
        
        .reference-section h2 {
            margin-bottom: 20px;
        }
        
        .reference-section ol {
            padding-left: 30px;
        }
        
        .reference-section li {
            margin-bottom: 10px;
        }
        
        .reference-link {
            color: var(--accent-color);
            text-decoration: none;
        }
        
        .reference-link:hover {
            text-decoration: underline;
        }

        footer {
            margin-top: 60px;
            padding: 30px 0;
            text-align: center;
            color: var(--secondary-color);
            font-size: 0.9rem;
            border-top: 1px solid var(--border-color);
        }
    </style>
</head>
<body>
    <header>
        <h1>和弦的宇宙：探索音乐的和声结构</h1>
        <p class="subtitle">从基础三和弦到复杂的爵士和声，揭示音乐创作的数学与艺术</p>
    </header>
    
    <div class="container">
        <aside class="sidebar">
            <nav>
                <ul>
                    <li><a href="#definition">和弦的定义</a></li>
                    <li><a href="#structure">和弦的构成</a></li>
                    <li><a href="#types">和弦的种类</a>
                        <ul>
                            <li><a href="#triads">三和弦</a></li>
                            <li><a href="#seventh">七和弦</a></li>
                            <li><a href="#extended">扩展和弦</a></li>
                            <li><a href="#altered">变化和弦</a></li>
                            <li><a href="#special">特殊和弦</a></li>
                        </ul>
                    </li>
                    <li><a href="#progression">和弦进行</a></li>
                    <li><a href="#popular-music">流行音乐中的常见和弦</a></li>
                    <li><a href="#cultural-differences">不同文化中的和弦</a></li>
                    <li><a href="#quiz">和弦知识小测验</a></li>
                    <li><a href="#conclusion">结语</a></li>
                </ul>
            </nav>
        </aside>
        
        <main class="content">
            <section id="definition">
                <h2>和弦的定义</h2>
                <p>和弦（Chord）是同时弹奏或演唱的三个或更多个不同音高的音符的组合。这些音符依照特定的音程关系组织在一起，形成了音乐中和声的基础。和弦是音乐创作中的关键元素，就像颜色之于绘画，它能创造出丰富的情感层次和音乐色彩。</p>
                
                <blockquote>
                    和弦是音乐的灵魂和骨架。正如建筑需要结构柱，音乐需要和弦来支撑旋律并传递情感。
                </blockquote>
                
                <figure>
                    <img src="https://kimi-image-search.app.msh.team/?q=music chord on piano" alt="钢琴上的和弦演示，显示多个琴键被同时按下">
                    <figcaption>钢琴上的和弦示例 - 多个音符同时演奏创造出和声效果</figcaption>
                </figure>
            </section>
            
            <section id="structure">
                <h2>和弦的构成</h2>
                <p>和弦由根音（Root）和其上方按照特定音程关系叠加的音组成。最基本的和弦是三和弦，由三个音组成：根音、三度音和五度音。这些音的间隔关系决定了和弦的性质和情感色彩。</p>
                
                <p>和弦构成的基础是音程关系，特别是三度叠置。以C大三和弦为例，它由C（根音）、E（大三度）和G（纯五度）组成。这种结构可以在任何调上构建，形成十二个大调和十二个小调的基础和弦。</p>
                
                <div class="chart-container" id="chord-formation-chart"></div>
                
                <p>和弦可以有不同的排列方式，称为和弦的转位（Inversion）：</p>
                <ul>
                    <li><strong>原位（Root Position）</strong>：根音在最低声部</li>
                    <li><strong>第一转位（First Inversion）</strong>：三度音在最低声部</li>
                    <li><strong>第二转位（Second Inversion）</strong>：五度音在最低声部</li>
                </ul>
                
                <div class="interactive-piano">
                    <h3>互动体验：点击键盘探索C大三和弦的转位</h3>
                    <div class="piano-keys" id="piano-container">
                        <!-- 钢琴键会通过JavaScript动态生成 -->
                    </div>
                </div>
            </section>
            
            <section id="types">
                <h2>和弦的种类</h2>
                <p>音乐理论中存在几百种不同的和弦，但它们可以被分为几个主要类别。以下是主要的和弦类型：</p>
                
                <section id="triads">
                    <h3>三和弦（Triads）</h3>
                    <p>三和弦是最基本的和弦类型，由三个音组成，通常是根音、三度音和五度音。根据三度音和五度音的类型，三和弦可分为四种：</p>
                    
                    <div class="chord-example">
                        <div class="chord-card" onclick="playChord(['C4', 'E4', 'G4'])">
                            <div class="chord-name">大三和弦（Major）</div>
                            <div class="chord-notes">根音 + 大三度 + 纯五度</div>
                            <div>例：C - E - G</div>
                        </div>
                        <div class="chord-card" onclick="playChord(['C4', 'Eb4', 'G4'])">
                            <div class="chord-name">小三和弦（Minor）</div>
                            <div class="chord-notes">根音 + 小三度 + 纯五度</div>
                            <div>例：C - Eb - G</div>
                        </div>
                        <div class="chord-card" onclick="playChord(['C4', 'Eb4', 'Gb4'])">
                            <div class="chord-name">减三和弦（Diminished）</div>
                            <div class="chord-notes">根音 + 小三度 + 减五度</div>
                            <div>例：C - Eb - Gb</div>
                        </div>
                        <div class="chord-card" onclick="playChord(['C4', 'E4', 'G#4'])">
                            <div class="chord-name">增三和弦（Augmented）</div>
                            <div class="chord-notes">根音 + 大三度 + 增五度</div>
                            <div>例：C - E - G#</div>
                        </div>
                    </div>
                </section>
                
                <section id="seventh">
                    <h3>七和弦（Seventh Chords）</h3>
                    <p>七和弦是在三和弦的基础上再加一个七度音。根据三和弦的类型和添加的七度音的类型，七和弦有多种变化：</p>
                    
                    <div class="chord-example">
                        <div class="chord-card" onclick="playChord(['C4', 'E4', 'G4', 'B4'])">
                            <div class="chord-name">大七和弦（Major 7th）</div>
                            <div class="chord-notes">大三和弦 + 大七度</div>
                            <div>例：C - E - G - B</div>
                        </div>
                        <div class="chord-card" onclick="playChord(['C4', 'E4', 'G4', 'Bb4'])">
                            <div class="chord-name">属七和弦（Dominant 7th）</div>
                            <div class="chord-notes">大三和弦 + 小七度</div>
                            <div>例：C - E - G - Bb</div>
                        </div>
                        <div class="chord-card" onclick="playChord(['C4', 'Eb4', 'G4', 'Bb4'])">
                            <div class="chord-name">小七和弦（Minor 7th）</div>
                            <div class="chord-notes">小三和弦 + 小七度</div>
                            <div>例：C - Eb - G - Bb</div>
                        </div>
                        <div class="chord-card" onclick="playChord(['C4', 'Eb4', 'Gb4', 'Bbb4'])">
                            <div class="chord-name">减七和弦（Diminished 7th）</div>
                            <div class="chord-notes">减三和弦 + 减七度</div>
                            <div>例：C - Eb - Gb - Bbb (A)</div>
                        </div>
                    </div>
                </section>
                
                <section id="extended">
                    <h3>扩展和弦（Extended Chords）</h3>
                    <p>扩展和弦是在七和弦的基础上再叠加九度、十一度或十三度音。这些和弦常见于爵士乐、融合音乐等风格中，为音乐添加更丰富的色彩。</p>
                    
                    <div class="chord-example">
                        <div class="chord-card" onclick="playChord(['C4', 'E4', 'G4', 'Bb4', 'D5'])">
                            <div class="chord-name">九和弦（9th）</div>
                            <div class="chord-notes">七和弦 + 九度</div>
                            <div>例：C7(9) = C - E - G - Bb - D</div>
                        </div>
                        <div class="chord-card" onclick="playChord(['C4', 'E4', 'G4', 'Bb4', 'D5', 'F5'])">
                            <div class="chord-name">十一和弦（11th）</div>
                            <div class="chord-notes">九和弦 + 十一度</div>
                            <div>例：C11 = C - E - G - Bb - D - F</div>
                        </div>
                        <div class="chord-card" onclick="playChord(['C4', 'E4', 'G4', 'Bb4', 'D5', 'F5', 'A5'])">
                            <div class="chord-name">十三和弦（13th）</div>
                            <div class="chord-notes">十一和弦 + 十三度</div>
                            <div>例：C13 = C - E - G - Bb - D - F - A</div>
                        </div>
                    </div>
                </section>
                
                <section id="altered">
                    <h3>变化和弦（Altered Chords）</h3>
                    <p>变化和弦是通过改变和弦中的某些音来创造更丰富的和声色彩。常见的变化包括升高或降低五度音、添加或替换其他音程等。这些变化和弦在爵士乐和现代音乐中特别常见。</p>
                    
                    <div class="tab-container">
                        <div class="tab-buttons">
                            <button class="tab-button active" onclick="switchTab(0)">增减变化</button>
                            <button class="tab-button" onclick="switchTab(1)">音符添加/替换</button>
                            <button class="tab-button" onclick="switchTab(2)">爵士变化和弦</button>
                        </div>
                        <div class="tab-content active">
                            <ul>
                                <li><strong>增五和弦（aug）</strong>：将和弦的五度音升高半音</li>
                                <li><strong>减五和弦（b5）</strong>：将和弦的五度音降低半音</li>
                                <li><strong>增九和弦（#9）</strong>：将和弦的九度音升高半音</li>
                                <li><strong>减九和弦（b9）</strong>：将和弦的九度音降低半音</li>
                            </ul>
                        </div>
                        <div class="tab-content">
                            <ul>
                                <li><strong>六和弦（6th）</strong>：在三和弦上添加大六度音</li>
                                <li><strong>挂四和弦（sus4）</strong>：用纯四度音替代三度音</li>
                                <li><strong>挂二和弦（sus2）</strong>：用大二度音替代三度音</li>
                                <li><strong>添加九和弦（add9）</strong>：在三和弦上直接添加九度音（不含七度）</li>
                            </ul>
                        </div>
                        <div class="tab-content">
                            <ul>
                                <li><strong>半减七和弦（m7b5）</strong>：小三和弦+减五度+小七度</li>
                                <li><strong>变化属七和弦（7alt）</strong>：包含b9, #9, b5, #5等变化</li>
                                <li><strong>大七升十一和弦（maj7#11）</strong>：大七和弦+升十一度</li>
                                <li><strong>和弦替代（Chord Substitution）</strong>：用其他和弦替代原和弦，但保持和声功能</li>
                            </ul>
                        </div>
                    </div>
                </section>
                
                <section id="special">
                    <h3>特殊和弦</h3>
                    <p>除了上述和弦类型，还有一些特殊和弦结构在现代音乐和民族音乐中使用：</p>
                    
                    <ul>
                        <li><strong>电力和弦（Power Chord）</strong>：由根音和五度音组成，常用于摇滚和金属音乐</li>
                        <li><strong>簇音和弦（Cluster）</strong>：相邻半音或全音的组合，常见于现代音乐</li>
                        <li><strong>多调和弦（Polychord）</strong>：两个不同和弦的叠加</li>
                        <li><strong>无三和弦（No3 Chord）</strong>：省略三度音的和弦，增加了和声色彩的模糊性</li>
                    </ul>
                    
                    <div class="chart-container" id="chord-types-chart"></div>
                </section>
            </section>
            
            <section id="progression">
                <h2>和弦进行</h2>
                <p>和弦进行（Chord Progression）指的是和弦按照特定序列连接组合。和弦进行是音乐创作的基础，为旋律提供和声支持。一些经典的和弦进行在流行音乐、爵士乐、古典音乐等风格中广泛使用：</p>
                
                <ul>
                    <li><strong>I-IV-V进行</strong>：最基础的和弦进行，广泛用于流行音乐、摇滚和民谣</li>
                    <li><strong>I-V-vi-IV进行</strong>：被称为"四和弦进行"，是无数流行歌曲的基础</li>
                    <li><strong>ii-V-I进行</strong>：爵士乐中最常见的和弦进行</li>
                    <li><strong>I-vi-IV-V进行</strong>：50年代经典摇滚和许多流行歌曲的基础</li>
                </ul>
                
                <p>和弦进行创造了音乐的情感走向和动态变化，成为作曲家表达音乐情感的强大工具。</p>
            </section>
            
            <section id="popular-music">
                <h2>流行音乐中的常见和弦</h2>
                <p>流行音乐往往使用相对简单直接的和弦结构，但这些简单结构能创造出令人难以置信的多样性和情感表达。以下是流行音乐中最常见的和弦：</p>
                
                <ul>
                    <li>大三和弦（Major）：明亮、积极的情感</li>
                    <li>小三和弦（Minor）：忧伤、内省的情感</li>
                    <li>七和弦（7th）：增加张力和动感</li>
                    <li>加九和弦（add9）：增添现代感和丰富性</li>
                    <li>挂四和弦（sus4）：创造不确定感和期待感</li>
                </ul>
                
                <p>许多热门歌曲只使用三到四个简单和弦，但通过节奏、旋律和编排的变化创造出丰富的音乐体验。</p>
                
                <div class="chord-example">
                    <div class="chord-card" onclick="playChord(['C4', 'E4', 'G4'])">
                        <div class="chord-name">C大三和弦</div>
                        <div class="chord-notes">C - E - G</div>
                        <div>明亮、开放</div>
                    </div>
                    <div class="chord-card" onclick="playChord(['A4', 'C4', 'E4'])">
                        <div class="chord-name">A小三和弦</div>
                        <div class="chord-notes">A - C - E</div>
                        <div>忧伤、抒情</div>
                    </div>
                    <div class="chord-card" onclick="playChord(['G4', 'B4', 'D4', 'F4'])">
                        <div class="chord-name">G7和弦</div>
                        <div class="chord-notes">G - B - D - F</div>
                        <div>不稳定、动感</div>
                    </div>
                    <div class="chord-card" onclick="playChord(['F4', 'A4', 'C4', 'D4'])">
                        <div class="chord-name">Fadd9和弦</div>
                        <div class="chord-notes">F - A - C - D</div>
                        <div>现代、丰富</div>
                    </div>
                </div>
            </section>
            
            <section id="cultural-differences">
                <h2>不同文化中的和弦</h2>
                <p>虽然西方音乐理论已经系统地发展了和弦体系，但世界各地的音乐传统对和声的处理方式各不相同：</p>
                
                <ul>
                    <li><strong>中国传统音乐</strong>：更注重旋律线条和音色变化，传统上较少使用西方的和弦概念，但现代创作中融合了西方和声</li>
                    <li><strong>印度音乐</strong>：基于旋律性的拉格（Raga）系统，强调单音旋律而非和声组合</li>
                    <li><strong>阿拉伯音乐</strong>：使用微分音阶（Maqam），创造出西方和弦系统无法表达的音色</li>
                    <li><strong>非洲音乐</strong>：强调复杂的节奏组合，和声常基于五声音阶和交替的和声模式</li>
                </ul>
                
                <p>随着全球音乐的交流与融合，各种音乐传统之间的界限已经变得模糊，创造出了更加丰富的和声语言。</p>
            </section>
           
            <section id="quiz" class="quiz-container">
                <h2 class="quiz-title">和弦知识小测验</h2>
                <div class="quiz-question">以下哪种和弦是由根音、大三度和纯五度组成的？</div>
                <div class="quiz-options">
                    <div class="quiz-option" data-option="A" onclick="selectOption(this)">A. 小三和弦</div>
                    <div class="quiz-option" data-option="B" onclick="selectOption(this)">B. 大三和弦</div>
                    <div class="quiz-option" data-option="C" onclick="selectOption(this)">C. 减三和弦</div>
                </div>
                <button class="quiz-submit" onclick="checkAnswer()" disabled>提交答案</button>
                <div class="quiz-feedback"></div>
                <div class="quiz-explanation">
                    <p>大三和弦是由根音、大三度和纯五度组成的和弦。例如C大三和弦由C（根音）、E（大三度）和G（纯五度）组成。</p>
                    <p>小三和弦是由根音、小三度和纯五度组成的。</p>
                    <p>减三和弦是由根音、小三度和减五度组成的。</p>
                </div>
            </section>
            
            <section id="conclusion">
                <h2>结语</h2>
                <p>和弦是音乐语言中不可或缺的元素，它们既有数学的精确性又有艺术的表现力。从最简单的三和弦到复杂的爵士和声，和弦的种类几乎是无限的。通过理解和弦的构成和功能，音乐创作者可以更有意识地塑造音乐作品的情感和结构。</p>
                
                <p>无论是作曲、即兴创作还是音乐欣赏，和弦知识都能帮助我们更深入地理解和感受音乐的魅力。和弦不仅是声音的组合，更是情感的载体，在跨越文化和历史的音乐长河中，它们始终扮演着连接人心的重要角色。</p>
            </section>
            
            <footer>
                <p>© 2023 音乐和声理论研究</p>
                <p>本文提供的所有信息和互动元素仅用于教育目的</p>
            </footer>
        </main>
    </div>
    
    <script>
        // 页面滚动时更新侧边栏激活状态
        window.addEventListener('scroll', function() {
            const sections = document.querySelectorAll('section[id]');
            const navLinks = document.querySelectorAll('.sidebar a');
            
            let currentSection = '';
            
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.offsetHeight;
                
                if (pageYOffset >= sectionTop - 100 && 
                    pageYOffset < sectionTop + sectionHeight - 100) {
                    currentSection = section.getAttribute('id');
                }
            });
            
            navLinks.forEach(link => {
                link.classList.remove('active');
                if (link.getAttribute('href') === `#${currentSection}`) {
                    link.classList.add('active');
                }
            });
        });
        
        // 标签切换功能
        function switchTab(index) {
            const tabButtons = document.querySelectorAll('.tab-button');
            const tabContents = document.querySelectorAll('.tab-content');
            
            tabButtons.forEach(button => button.classList.remove('active'));
            tabContents.forEach(content => content.classList.remove('active'));
            
            tabButtons[index].classList.add('active');
            tabContents[index].classList.add('active');
        }
        
        // 创建简易钢琴键盘
        function createPiano() {
            const pianoContainer = document.getElementById('piano-container');
            const notes = ['C', 'D', 'E', 'F', 'G', 'A', 'B'];
            const blackKeyPositions = [0, 1, 3, 4, 5]; // C#, D#, F#, G#, A#
            
            for (let i = 0; i < notes.length; i++) {
                const whiteKey = document.createElement('div');
                whiteKey.className = 'piano-key';
                whiteKey.textContent = notes[i];
                whiteKey.dataset.note = notes[i] + '4';
                whiteKey.addEventListener('click', function() {
                    playNote(this.dataset.note);
                });
                pianoContainer.appendChild(whiteKey);
                
                if (blackKeyPositions.includes(i) && i < notes.length - 1) {
                    const blackKey = document.createElement('div');
                    blackKey.className = 'piano-key black';
                    blackKey.textContent = notes[i] + '#';
                    blackKey.dataset.note = notes[i] + '#4';
                    blackKey.style.left = `${(i * 14.28) + 10}%`;
                    blackKey.addEventListener('click', function() {
                        playNote(this.dataset.note);
                    });
                    pianoContainer.appendChild(blackKey);
                }
            }
        }
        
        // 虚拟播放音符的功能（实际情况下可以使用Web Audio API）
        function playNote(note) {
            console.log(`Playing note: ${note}`);
            // 在实际应用中，这里应该是使用Web Audio API播放音符
            // 简化起见，我们只用CSS显示动画效果
            
            const pianoKeys = document.querySelectorAll('.piano-key');
            pianoKeys.forEach(key => {
                if (key.dataset.note === note) {
                    key.classList.add('active');
                    setTimeout(() => {
                        key.classList.remove('active');
                    }, 300);
                }
            });
        }
        
        // 播放和弦功能
        function playChord(notes) {
            console.log(`Playing chord: ${notes.join(', ')}`);
            // 简化示意，实际应用中使用Web Audio API
            notes.forEach((note, index) => {
                setTimeout(() => {
                    // 模拟琶音效果，逐个播放音符
                    playNote(note);
                }, index * 50);
            });
        }
        
        // 测验功能
        let selectedOption = null;
        
        function selectOption(element) {
            const options = document.querySelectorAll('.quiz-option');
            options.forEach(option => option.classList.remove('selected'));
            element.classList.add('selected');
            selectedOption = element.getAttribute('data-option');
            
            document.querySelector('.quiz-submit').disabled = false;
        }
        
        function checkAnswer() {
            const correctAnswer = 'B'; // 正确答案是B选项：大三和弦
            const feedbackElement = document.querySelector('.quiz-feedback');
            const explanationElement = document.querySelector('.quiz-explanation');
            const options = document.querySelectorAll('.quiz-option');
            const submitButton = document.querySelector('.quiz-submit');
            
            options.forEach(option => {
                if (option.getAttribute('data-option') === correctAnswer) {
                    option.classList.add('correct');
                } else if (option.classList.contains('selected')) {
                    option.classList.add('incorrect');
                }
            });
            
            if (selectedOption === correctAnswer) {
                feedbackElement.textContent = "正确！大三和弦确实是由根音、大三度和纯五度组成的。";
                feedbackElement.className = "quiz-feedback correct";
            } else {
                feedbackElement.textContent = "不正确。正确答案是B：大三和弦。";
                feedbackElement.className = "quiz-feedback incorrect";
            }
            
            explanationElement.style.display = 'block';
            submitButton.disabled = true;
        }
        
        // 使用ECharts创建和弦形成图表
        function createChordFormationChart() {
            const chartDom = document.getElementById('chord-formation-chart');
            const myChart = echarts.init(chartDom);
            
            const option = {
                title: {
                    text: '三和弦的构成',
                    left: 'center',
                    top: 0
                },
                tooltip: {
                    trigger: 'item',
                    formatter: '{a} <br/>{b}: {c}'
                },
                legend: {
                    data: ['根音', '大三度', '小三度', '纯五度', '减五度', '增五度'],
                    bottom: 10
                },
                series: [
                    {
                        name: '和弦构成',
                        type: 'graph',
                        layout: 'circular',
                        circular: {
                            rotateLabel: true
                        },
                        data: [
                            {
                                name: 'C（根音）',
                                category: 0,
                                symbolSize: 60,
                                itemStyle: {
                                    color: '#5470c6'
                                }
                            },
                            {
                                name: 'E（大三度）',
                                category: 1,
                                symbolSize: 50,
                                itemStyle: {
                                    color: '#91cc75'
                                }
                            },
                            {
                                name: 'Eb（小三度）',
                                category: 2,
                                symbolSize: 50,
                                itemStyle: {
                                    color: '#fac858'
                                }
                            },
                            {
                                name: 'G（纯五度）',
                                category: 3,
                                symbolSize: 50,
                                itemStyle: {
                                    color: '#ee6666'
                                }
                            },
                            {
                                name: 'Gb（减五度）',
                                category: 4,
                                symbolSize: 40,
                                itemStyle: {
                                    color: '#73c0de'
                                }
                            },
                            {
                                name: 'G#（增五度）',
                                category: 5,
                                symbolSize: 40,
                                itemStyle: {
                                    color: '#3ba272'
                                }
                            }
                        ],
                        links: [
                            {
                                source: 'C（根音）',
                                target: 'E（大三度）',
                                name: '大和弦',
                                lineStyle: {
                                    color: '#91cc75',
                                    width: 3
                                }
                            },
                            {
                                source: 'C（根音）',
                                target: 'Eb（小三度）',
                                name: '小和弦',
                                lineStyle: {
                                    color: '#fac858',
                                    width: 3
                                }
                            },
                            {
                                source: 'E（大三度）',
                                target: 'G（纯五度）',
                                name: '大三和弦',
                                lineStyle: {
                                    color: '#91cc75',
                                    width: 3
                                }
                            },
                            {
                                source: 'Eb（小三度）',
                                target: 'G（纯五度）',
                                name: '小三和弦',
                                lineStyle: {
                                    color: '#fac858',
                                    width: 3
                                }
                            },
                            {
                                source: 'Eb（小三度）',
                                target: 'Gb（减五度）',
                                name: '减三和弦',
                                lineStyle: {
                                    color: '#73c0de',
                                    width: 3
                                }
                            },
                            {
                                source: 'E（大三度）',
                                target: 'G#（增五度）',
                                name: '增三和弦',
                                lineStyle: {
                                    color: '#3ba272',
                                    width: 3
                                }
                            }
                        ],
                        categories: [
                            {
                                name: '根音'
                            },
                            {
                                name: '大三度'
                            },
                            {
                                name: '小三度'
                            },
                            {
                                name: '纯五度'
                            },
                            {
                                name: '减五度'
                            },
                            {
                                name: '增五度'
                            }
                        ],
                        label: {
                            show: true,
                            position: 'right',
                            formatter: '{b}'
                        },
                        lineStyle: {
                            color: 'source',
                            curveness: 0.3
                        },
                        emphasis: {
                            focus: 'adjacency',
                            lineStyle: {
                                width: 5
                            }
                        }
                    }
                ]
            };
            
            myChart.setOption(option);
            
            // 响应式调整
            window.addEventListener('resize', function() {
                myChart.resize();
            });
        }
        
        // 使用ECharts创建和弦类型统计图
        function createChordTypesChart() {
            const chartDom = document.getElementById('chord-types-chart');
            const myChart = echarts.init(chartDom);
            
            const option = {
                title: {
                    text: '常见和弦类型及其音符数量',
                    subtext: '基本和复杂和弦结构比较',
                    left: 'center'
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'shadow'
                    }
                },
                legend: {
                    data: ['音符数量'],
                    bottom: 0
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '15%',
                    top: '15%',
                    containLabel: true
                },
                xAxis: [
                    {
                        type: 'category',
                        data: ['三和弦', '七和弦', '九和弦', '十一和弦', '十三和弦', '添加九和弦', '电力和弦', '簇音和弦'],
                        axisTick: {
                            alignWithLabel: true
                        },
                        axisLabel: {
                            rotate: 45
                        }
                    }
                ],
                yAxis: [
                    {
                        type: 'value',
                        name: '音符数量',
                        min: 0,
                        max: 7,
                        interval: 1
                    }
                ],
                series: [
                    {
                        name: '音符数量',
                        type: 'bar',
                        barWidth: '60%',
                        data: [
                            {
                                value: 3,
                                itemStyle: {
                                    color: '#5470c6'
                                }
                            },
                            {
                                value: 4,
                                itemStyle: {
                                    color: '#91cc75'
                                }
                            },
                            {
                                value: 5,
                                itemStyle: {
                                    color: '#fac858'
                                }
                            },
                            {
                                value: 6,
                                itemStyle: {
                                    color: '#ee6666'
                                }
                            },
                            {
                                value: 7,
                                itemStyle: {
                                    color: '#73c0de'
                                }
                            },
                            {
                                value: 4,
                                itemStyle: {
                                    color: '#3ba272'
                                }
                            },
                            {
                                value: 2,
                                itemStyle: {
                                    color: '#fc8452'
                                }
                            },
                            {
                                value: 3,
                                itemStyle: {
                                    color: '#9a60b4'
                                }
                            }
                        ],
                        label: {
                            show: true,
                            position: 'top'
                        }
                    }
                ]
            };
            
            myChart.setOption(option);
            
            // 响应式调整
            window.addEventListener('resize', function() {
                myChart.resize();
            });
        }
        
        // 页面加载时初始化所有组件
        window.onload = function() {
            createPiano();
            createChordFormationChart();
            createChordTypesChart();
        };
    </script>
</body>
</html>