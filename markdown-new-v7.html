<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Markdownè®ºæ–‡ç¼–è¾‘è½¯ä»¶æ¨è</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ğŸ“</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+SC:wght@300;400;500;700&display=swap" rel="stylesheet">

    <style>
        :root {
            /* Light Mode Colors (Apple Inspired) */
            --bg-primary: #f5f5f7;        /* Slightly off-white background */
            --bg-secondary: #ffffff;     /* White content background */
            --text-primary: #1d1d1f;     /* Near-black text */
            --text-secondary: #6e6e73;   /* Gray secondary text */
            --heading-color: #1d1d1f;    /* Near-black headings */
            --border-color: #d2d2d7;     /* Light gray border */
            --accent-color: #007aff;     /* Apple Blue */
            --hover-bg: #f0f0f0;         /* Subtle hover */
            --card-shadow: 0 1px 2px rgba(0, 0, 0, 0.05); /* Very subtle shadow */
            --tag-bg: #eef5ff;           /* Lighter blue background for tags */
            --tag-text: #005ec2;         /* Darker blue text for tags */
            --free-tag-bg: #e5f7ed;       /* Light Green */
            --free-tag-text: #1e854c;     /* Darker Green */
            --paid-tag-bg: #ffebee;       /* Light Red */
            --paid-tag-text: #c62828;     /* Darker Red */
            --freemium-tag-bg: #fff8e1;    /* Light Yellow */
            --freemium-tag-text: #8a5a00;    /* Darker Yellow */
            --button-bg: var(--accent-color);
            --button-text: #ffffff;
            --button-hover-bg: #005ec2;    /* Darker blue on hover */
            --recommendation-icon-offset: -28px;
            --recommendation-text-indent: 0;
            --table-header-bg: transparent; /* Cleaner table header */
            --table-border-color: #e5e7eb; /* Slightly different table border if needed */
        }

        [data-theme="dark"] {
            /* Dark Mode Colors (Apple Inspired) */
            --bg-primary: #1d1d1f;        /* Near-black background */
            --bg-secondary: #2c2c2e;     /* Dark gray content background */
            --text-primary: #f5f5f7;     /* Light gray text */
            --text-secondary: #a1a1a6;   /* Lighter gray secondary text */
            --heading-color: #f5f5f7;    /* Light gray headings */
            --border-color: #3a3a3c;     /* Darker gray border */
            --accent-color: #0a84ff;     /* Brighter Apple Blue */
            --hover-bg: #3a3a3c;         /* Subtle hover */
            --card-shadow: 0 1px 2px rgba(0, 0, 0, 0.1); /* Subtle dark shadow */
            --tag-bg: #2c3a4a;           /* Darker blue background for tags */
            --tag-text: #8fcaff;         /* Lighter blue text for tags */
            --free-tag-bg: #1c4a34;       /* Dark Green */
            --free-tag-text: #a7f3d0;     /* Light Green text */
            --paid-tag-bg: #5e2a2a;       /* Dark Red */
            --paid-tag-text: #fecaca;     /* Light Red text */
            --freemium-tag-bg: #5e451a;    /* Dark Yellow */
            --freemium-tag-text: #fde68a;    /* Light Yellow text */
            --button-bg: var(--accent-color);
            --button-text: #ffffff;
            --button-hover-bg: #3fa9ff;    /* Lighter blue on hover */
            --table-header-bg: transparent;
            --table-border-color: #4b5563; /* Different table border for dark mode */
        }

        * {
            box-sizing: border-box;
            transition: background-color 0.3s ease, color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
        }

        body {
            font-family: 'Inter', 'Noto Sans SC', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif; /* Added system fonts */
            line-height: 1.6;
            color: var(--text-primary);
            background-color: var(--bg-primary);
            margin: 0;
            padding: 0;
            font-size: 16px; /* Base size */
            -webkit-font-smoothing: antialiased; /* Smoother fonts on Mac */
            -moz-osx-font-smoothing: grayscale;
        }

        .container {
            max-width: 1100px; /* Slightly narrower for cleaner look */
            margin: 40px auto; /* More vertical margin */
            padding: 30px 40px; /* More padding */
            background-color: var(--bg-secondary);
            border-radius: 16px; /* More pronounced rounding */
            box-shadow: var(--card-shadow);
            border: 1px solid var(--border-color);
        }

        header {
            text-align: center;
            margin-bottom: 50px; /* Increased spacing */
            padding-bottom: 25px;
            position: relative;
        }

        header h1 {
            color: var(--heading-color);
            font-weight: 600; /* Slightly lighter than 700 */
            font-size: 2.5em; /* Adjusted size */
            margin-bottom: 15px;
            letter-spacing: -0.01em;
        }

        header p {
            color: var(--text-secondary);
            font-size: 1.05em; /* Slightly larger paragraph */
            max-width: 650px;
            margin: 0 auto;
            line-height: 1.7;
        }

         /* Theme Toggle Button */
         #theme-toggle {
            position: absolute;
            top: -10px; /* Adjusted position */
            right: -10px;
            background: none;
            border: none;
            font-size: 1.6em; /* Slightly larger */
            cursor: pointer;
            color: var(--text-secondary);
            padding: 8px;
            line-height: 1;
            transition: color 0.2s ease, transform 0.2s ease;
         }
         #theme-toggle:hover {
             color: var(--accent-color);
             transform: scale(1.1);
         }

        /* --- Section Styling --- */
        section {
            margin-bottom: 40px; /* Consistent spacing */
            /* Removed background/border from generic section */
        }
        section h2 {
             margin-top: 0;
             margin-bottom: 25px; /* More space below heading */
             color: var(--heading-color);
             font-size: 1.5em; /* Adjusted size */
             font-weight: 600;
             border-bottom: 1px solid var(--border-color);
             padding-bottom: 12px;
        }

        /* --- Recommendation Section --- */
        .recommendation-section {
             /* No specific background needed now */
             padding: 25px;
             background-color: var(--bg-primary); /* Use primary bg for slight differentiation */
             border-radius: 12px;
             border: 1px solid var(--border-color);
             margin-bottom: 40px; /* Ensure spacing before filter/table combo */
        }
        .recommendation-section h2 {
             font-size: 1.4em; /* Slightly smaller */
             color: var(--heading-color); /* Standard heading color */
             border-bottom: none; /* Remove border */
             padding-bottom: 0;
             margin-bottom: 20px;
        }
         .recommendation-section ul {
             list-style-type: none;
             padding-left: 5px; /* Slight indent */
             margin-bottom: 0;
         }
         .recommendation-section li {
            margin-bottom: 15px; /* More spacing */
            position: relative;
            font-size: 1em;
            padding-left: 35px; /* Make space for icon */
            line-height: 1.7;
         }
         .recommendation-section li .rec-icon {
             position: absolute;
             left: 0;
             top: 0.18em; /* Fine-tuned for Material Symbols baseline */
             line-height: 1; /* Ensure line height doesn't interfere */
             width: 1.35em; /* Adjusted for 24px icons */
             height: 1.35em; /* Adjusted for 24px icons */
             display: flex; /* Center SVG inside span */
             align-items: center;
             justify-content: center;
             color: var(--accent-color); /* Apply accent color directly */
             opacity: 0.9;
         }
         /* SVG specific styling */
         .recommendation-section li .rec-icon svg {
             width: 100%; /* Make SVG fill the span */
             height: 100%;
         }
         .recommendation-section strong {
             font-weight: 500;
             color: var(--text-primary); /* Use primary text color */
         }
         .recommendation-section .tag {
             font-size: 0.8em; /* Slightly smaller */
             vertical-align: middle;
             margin-left: 5px;
         }

        /* --- Filters & Table Combined Styling --- */
        /* Make Filter Section look like a control panel for the table */
        .filters-section {
            padding: 25px 25px 20px 25px; /* Add padding */
            /* background-color: var(--bg-secondary); */ /* Same as container bg */
            border: 1px solid var(--border-color);
            border-bottom: none; /* Remove bottom border to connect with table */
            border-radius: 12px 12px 0 0; /* Round top corners only */
            margin-bottom: 0; /* Remove margin to connect */
        }
        .filters-section h2 {
            font-size: 1.3em;
            border-bottom: none;
            padding-bottom: 0;
            margin-bottom: 20px;
            color: var(--text-secondary); /* Subtler heading */
            font-weight: 500;
        }
        .filter-group {
            margin-bottom: 18px;
            display: flex;
            align-items: flex-start;
            flex-wrap: wrap;
        }
        .filter-group label:first-child {
            font-weight: 500;
            margin-right: 15px;
            color: var(--text-primary); /* Clearer label color */
            padding-top: 6px; /* Align better with buttons */
            min-width: 60px; /* Slightly less width needed */
            font-size: 0.95em;
            flex-shrink: 0;
        }
        .filter-options {
            display: flex;
            flex-wrap: wrap;
            gap: 10px; /* Slightly more gap */
        }
        .filter-group input[type="checkbox"] {
             display: none;
         }
         .filter-group .checkbox-label {
            display: inline-block;
            cursor: pointer;
            font-size: 0.85em; /* Smaller text */
            padding: 5px 12px; /* Adjust padding */
            border-radius: 20px; /* Pill shape */
            border: 1px solid transparent; /* No border initially */
            background-color: var(--hover-bg); /* Use hover bg for inactive */
            color: var(--text-secondary);
            transition: background-color 0.2s ease, color 0.2s ease, border-color 0.2s ease;
            line-height: 1.4;
            font-weight: 500;
        }
        .filter-group input[type="checkbox"]:checked + .checkbox-label {
            background-color: var(--accent-color);
            /* border-color: var(--accent-color); */
            color: #fff;
        }
         .filter-group .checkbox-label:hover {
            background-color: var(--border-color); /* Subtle hover */
         }
         .filter-group input[type="checkbox"]:checked + .checkbox-label:hover {
             background-color: var(--button-hover-bg); /* Hover on active */
         }


        /* --- Table Section --- */
        .table-section {
             padding: 0; /* Remove section padding */
             background-color: transparent;
             border: none;
             margin-bottom: 40px; /* Space after table */
        }
        .table-container {
            overflow-x: auto;
            background-color: var(--bg-secondary); /* Table content background */
            border-radius: 0 0 12px 12px; /* Round bottom corners, matching filters */
            border: 1px solid var(--border-color);
            /* border-top: none; */ /* No top border needed as it connects */
            box-shadow: var(--card-shadow); /* Subtle shadow for the whole block */
        }
        table {
            width: 100%;
            border-collapse: collapse;
            /* Removed shadow/radius from table itself */
            overflow: hidden;
        }

        th, td {
            padding: 14px 18px; /* Adjust padding */
            text-align: left;
            border-bottom: 1px solid var(--table-border-color); /* Use table-specific border */
            vertical-align: middle;
            background-color: transparent; /* Cell background transparent, inherits from container */
            font-size: 0.95em; /* Slightly larger table text */
        }
        tbody tr:last-child td {
            border-bottom: none; /* Remove border from last row */
        }

        th {
            background-color: var(--table-header-bg); /* Transparent header */
            color: var(--text-secondary); /* Subtler header text */
            font-weight: 500; /* Medium weight header */
            font-size: 0.9em;
            cursor: pointer;
            transition: color 0.2s ease;
            white-space: nowrap;
            position: relative;
            border-bottom-width: 1px; /* Ensure header has bottom border */
            border-bottom-color: var(--border-color); /* Use main border color for header line */
        }
        th:hover {
            color: var(--text-primary); /* Darken text on hover */
        }
        th .sort-indicator {
            font-size: 0.8em;
            margin-left: 6px;
            color: var(--accent-color);
            opacity: 0.6;
            display: inline-block;
            width: 1em;
            text-align: center;
        }
        th.sorted-asc .sort-indicator,
        th.sorted-desc .sort-indicator {
            opacity: 1;
        }

        tbody tr {
            transition: background-color 0.15s ease; /* Faster hover transition */
        }
        tbody tr:hover td {
            background-color: var(--hover-bg);
        }

        .icon-cell {
            display: flex;
            align-items: center;
        }
        .icon-cell img {
            width: 28px; /* Slightly smaller icon */
            height: 28px;
            margin-right: 12px; /* More space */
            border-radius: 6px; /* Apple-like rounding */
            object-fit: contain;
            vertical-align: middle;
        }
        .icon-cell span {
            font-weight: 500; /* Medium weight name */
            color: var(--text-primary);
        }

        .tag {
            display: inline-block;
            padding: 3px 10px; /* Adjusted padding */
            border-radius: 12px; /* Rounded tag */
            font-size: 0.78em; /* Smaller tag text */
            margin: 2px 3px 2px 0;
            white-space: nowrap;
            font-weight: 500;
            border: 1px solid transparent; /* Prepare for potential border use */
        }
        /* Simplified Tag Colors */
        .tag.free {
            background-color: var(--free-tag-bg);
            color: var(--free-tag-text);
            /* border-color: var(--free-tag-text); */
        }
        .tag.paid {
            background-color: var(--paid-tag-bg);
            color: var(--paid-tag-text);
            /* border-color: var(--paid-tag-text); */
        }
         .tag.freemium {
            background-color: var(--freemium-tag-bg);
            color: var(--freemium-tag-text);
            /* border-color: var(--freemium-tag-text); */
         }
         .tag:not(.free):not(.paid):not(.freemium) { /* Default tags */
             background-color: var(--tag-bg);
             color: var(--tag-text);
             /* border-color: var(--tag-text); */
         }


        .platform-icon {
            width: 16px; /* Smaller icons */
            height: 16px;
            margin-right: 5px;
            vertical-align: middle;
            opacity: 0.75;
        }

         .download-link a {
            display: inline-block;
            padding: 5px 10px;
            background-color: var(--button-bg);
            color: var(--button-text);
            text-decoration: none;
            border-radius: 6px; /* Consistent rounding */
            font-size: 0.85em;
            font-weight: 500;
            transition: background-color 0.2s ease, transform 0.1s ease;
        }
        .download-link a:hover {
            background-color: var(--button-hover-bg);
            transform: scale(1.03); /* Subtle scale effect */
        }


        /* --- Extra Tips Section (Cards) --- */
         .extra-tips-section {
             background-color: transparent; /* No separate background */
             padding: 0; /* Remove padding */
         }
         .extra-tips-section h2 {
             font-size: 1.4em;
             font-weight: 600;
             border-bottom: 1px solid var(--border-color);
             padding-bottom: 12px;
             margin-bottom: 25px;
         }
        .tip-cards-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(240px, 1fr)); /* Adjust min size */
            gap: 25px; /* Increased gap */
            margin-top: 15px;
        }
        .tip-card {
            background-color: var(--bg-secondary); /* Use secondary background */
            padding: 25px; /* More padding */
            border-radius: 12px; /* Consistent rounding */
            border: 1px solid var(--border-color);
            box-shadow: var(--card-shadow);
            display: flex;
            align-items: flex-start;
            transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.3s ease;
        }
         .tip-card:hover {
             transform: translateY(-4px); /* Slightly more lift */
             box-shadow: 0 4px 8px rgba(0,0,0,0.08); /* Slightly stronger shadow on hover */
             /* background-color: var(--hover-bg); */ /* Optional: subtle bg change */
         }
        .tip-icon {
            font-size: 1.6em; /* Adjusted icon size */
            margin-right: 18px;
            margin-top: 3px;
            flex-shrink: 0;
            opacity: 0.8;
            color: var(--accent-color); /* Use accent color for icons */
        }
        .tip-content strong {
            color: var(--heading-color);
            display: block;
            margin-bottom: 8px;
            font-weight: 600; /* Semibold title */
            font-size: 1.05em;
        }
         .tip-content p {
             margin: 0;
             line-height: 1.65;
             font-size: 0.95em;
             color: var(--text-secondary);
         }
        .tip-content a {
             color: var(--accent-color);
             text-decoration: none;
             font-weight: 500;
         }
         .tip-content a:hover {
             text-decoration: underline;
         }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .container {
                margin: 20px;
                padding: 20px;
                border-radius: 12px;
            }
             header h1 {
                font-size: 2em;
            }
             header p {
                 font-size: 1em;
             }
             #theme-toggle {
                 top: 5px;
                 right: 5px;
                 font-size: 1.5em;
             }
             section { margin-bottom: 30px; }

             .filters-section { padding: 20px; border-radius: 10px 10px 0 0;}
             .table-container { border-radius: 0 0 10px 10px;}

             .filter-group {
                 flex-direction: column;
                 align-items: stretch;
             }
             .filter-group label:first-child {
                 margin-bottom: 12px;
                 min-width: auto;
                 padding-top: 0;
             }

            th, td {
                padding: 12px 10px;
                font-size: 0.9em;
            }
            .icon-cell img {
                width: 24px;
                height: 24px;
                margin-right: 10px;
            }
            .tag {
                font-size: 0.75em;
                padding: 3px 8px;
            }
            .download-link a {
                 font-size: 0.8em;
                 padding: 4px 8px;
            }
            .tip-card { padding: 20px; }
            .tip-icon { font-size: 1.5em; margin-right: 12px; }
            .tip-cards-container { gap: 15px; }
        }
         @media (max-width: 480px) {
             body { font-size: 15px; }
             .container { margin: 10px; padding: 15px; }
             header h1 { font-size: 1.7em; }
             header p { font-size: 0.95em; }
             #theme-toggle { font-size: 1.4em; }

             section h2 { font-size: 1.3em; margin-bottom: 20px; padding-bottom: 10px; }
             .recommendation-section h2 { font-size: 1.25em; }
             .extra-tips-section h2 { font-size: 1.25em; }

             .filters-section { padding: 15px; }
             .filters-section h2 { font-size: 1.2em; margin-bottom: 15px;}
             .filter-group label:first-child { font-size: 0.9em; }
             .filter-group .checkbox-label { font-size: 0.8em; padding: 4px 10px;}

             th, td { padding: 10px 8px; font-size: 0.85em; }
             .icon-cell span { font-size: 0.95em; }
             .icon-cell img { width: 22px; height: 22px; margin-right: 8px; }
             .platform-icon { width: 14px; height: 14px; margin-right: 4px;}
             .tag { font-size: 0.7em; padding: 2px 6px;}
             .download-link a { font-size: 0.75em; padding: 3px 6px;}

             .tip-cards-container { grid-template-columns: 1fr; gap: 12px;}
             .tip-card { padding: 15px; }
             .tip-icon { font-size: 1.4em; margin-right: 10px; }
             .tip-content strong { font-size: 1em; }
             .tip-content p { font-size: 0.9em; }
         }

    </style>
</head>
<body data-theme="light"> <!-- Default to light theme -->

    <div class="container">
        <header>
             <button id="theme-toggle">ğŸŒ™</button> <!-- Moon icon for toggle -->
            <h1>Markdown è®ºæ–‡ç¼–è¾‘è½¯ä»¶æ¨è</h1>
            <p>ä½¿ç”¨ Markdown å†™è®ºæ–‡è½»é‡é«˜æ•ˆï¼Œå°¤å…¶é€‚åˆä¸“æ³¨å†…å®¹ã€è·¨å¹³å°åä½œåŠå¤šæ ¼å¼å¯¼å‡ºã€‚ä»¥ä¸‹ç²¾é€‰ç¼–è¾‘å™¨åŠ©æ‚¨è½»æ¾å®Œæˆå­¦æœ¯å†™ä½œã€‚</p>
        </header>

        <!-- 1. Selection Advice -->
         <section class="recommendation-section">
            <h2>é€‰æ‹©å»ºè®®ï¼š</h2>
            <ul>
                 <li>
                    <span class="rec-icon">
                         <!-- Budget Icon: Material Symbol 'currency_yen' (Filled) -->
                         <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor" aria-hidden="true" focusable="false">
                            <path d="M0 0h24v24H0V0z" fill="none"/>
                            <path d="M13.92 11H18v2h-5v2h5v2h-5v3h-2v-3H6v-2h5v-2H6v-2h4.08L5 3h2.37L12 10.29 16.63 3H19l-5.08 8z"/>
                         </svg>
                    </span>
                    <strong>é¢„ç®—æœ‰é™ï¼Ÿ</strong> ä¼˜å…ˆè€ƒè™‘ <span class="tag free">MarkText</span> æˆ– <span class="tag freemium">Obsidian</span> (æ ¸å¿ƒå…è´¹)ã€‚
                </li>
                <li>
                    <span class="rec-icon">
                        <!-- Academic Icon: Material Symbol 'school' (Filled) -->
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor" aria-hidden="true" focusable="false">
                            <path d="M0 0h24v24H0V0z" fill="none"/>
                            <path d="M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3 1 9l11 6 9-4.91V17h2V9L12 3z"/>
                        </svg>
                    </span>
                    <strong>éœ€ä¸¥æ ¼å­¦æœ¯è§„èŒƒï¼Ÿ</strong> <span class="tag">Zettlr</span> å†…ç½®å¼•ç”¨æ”¯æŒæ˜¯å¥½å¸®æ‰‹ã€‚
                </li>
                <li>
                    <span class="rec-icon">
                        <!-- Formulas/STEM Icon: Material Symbol 'functions' (Filled) -->
                         <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor" aria-hidden="true" focusable="false">
                            <path d="M0 0h24v24H0V0z" fill="none"/>
                            <path d="M18 4H6v2l6.5 6L6 18v2h12v-3h-7l5-5-5-5h7z"/>
                         </svg>
                    </span>
                    <strong>ç†å·¥ç§‘å«å¤§é‡å…¬å¼ï¼Ÿ</strong> <span class="tag">Typora</span> æˆ– <span class="tag">MarkText</span> çš„æ•°å­¦æ”¯æŒä¼˜ç§€ã€‚
                </li>
                 <li>
                    <span class="rec-icon">
                        <!-- Knowledge Management Icon: Material Symbol 'hub' (Filled) -->
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor" aria-hidden="true" focusable="false">
                             <path d="M0 0h24v24H0V0z" fill="none"/>
                             <path d="M17.2 11c.08-.34.14-.68.14-1.04 0-.36-.06-.7-.14-1.04l1.97-1.54c.06-.05.09-.13.07-.2l-1.9-3.3c-.03-.06-.1-.09-.17-.09s-.14.04-.17.09l-2.3.94c-.48-.31-.99-.55-1.54-.71l-.4-2.48c0-.08-.07-.13-.15-.13h-3.8c-.08 0-.15.06-.15.13l-.4 2.48c-.55.16-1.06.4-1.54.71l-2.3-.94c-.06-.05-.14-.05-.17-.01l-1.9 3.3c-.03.06-.03.14.01.2l1.97 1.54C6.86 8.96 6.8 9.3 6.8 9.64c0 .36.06.7.14 1.04l-1.97 1.54c-.06.05-.09.13-.07.2l1.9 3.3c.03.06.1.09.17.09s.14-.04.17-.09l2.3-.94c.48.31.99.55 1.54.71l.4 2.48c.01.08.07.13.15.13h3.8c.08 0 .15-.06.15-.13l.4-2.48c.55-.16 1.06-.4 1.54-.71l2.3.94c.06.05.14.05.17.01l1.9-3.3c.03-.06.03-.14-.01-.2l-1.97-1.54zM12 13c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>
                        </svg>
                    </span>
                    <strong>éœ€è¦çŸ¥è¯†ç®¡ç†ï¼Ÿ</strong> <span class="tag">Obsidian</span> çš„åŒé“¾å’Œå›¾è°±éå¸¸å¼ºå¤§ã€‚
                </li>
                <li>
                    <span class="rec-icon">
                         <!-- Sync/Collaboration Icon: Material Symbol 'sync' (Filled) -->
                         <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor" aria-hidden="true" focusable="false">
                             <path d="M0 0h24v24H0V0z" fill="none"/>
                             <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>
                        </svg>
                    </span>
                    <strong>è·¨è®¾å¤‡åŒæ­¥/åä½œï¼Ÿ</strong> <span class="tag">Obsidian</span> æˆ– <span class="tag">VSCodium/VS Code</span> + Git/äº‘æœåŠ¡ã€‚
                </li>
                <li>
                    <span class="rec-icon">
                         <!-- Minimalist/Focus Icon: Material Symbol 'edit_note' (Filled) -->
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor" aria-hidden="true" focusable="false">
                            <path d="M0 0h24v24H0V0z" fill="none"/>
                            <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                            <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM5.92 19H5v-.92l9.06-9.06.92.92L5.92 19zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                        </svg>
                    </span>
                    <strong>è¿½æ±‚æç®€ä¸“æ³¨ï¼Ÿ</strong> <span class="tag">iA Writer</span> æä¾›æ²‰æµ¸å¼ä½“éªŒã€‚
                </li>
                 <li>
                    <span class="rec-icon">
                         <!-- Customizable/Technical Icon: Material Symbol 'tune' (Filled) -->
                         <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px" fill="currentColor" aria-hidden="true" focusable="false">
                             <path d="M0 0h24v24H0V0z" fill="none"/>
                             <path d="M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"/>
                        </svg>
                    </span>
                    <strong>å–œæ¬¢é«˜åº¦å®šåˆ¶ï¼Ÿ</strong> æŠ€æœ¯æµå¯é€‰ <span class="tag">VSCodium/VS Code</span>ã€‚
                </li>
            </ul>
        </section>

        <!-- 2. Filters Section (Visually connected to table) -->
        <section class="filters-section">
            <h2>ç­›é€‰å™¨</h2>
            <div class="filter-group">
                <label>ä»·æ ¼:</label>
                 <div class="filter-options">
                    <input type="checkbox" id="filter-price-free" value="free" onchange="applyFilters()">
                    <label for="filter-price-free" class="checkbox-label">å…è´¹</label>
                    <input type="checkbox" id="filter-price-paid" value="paid" onchange="applyFilters()">
                    <label for="filter-price-paid" class="checkbox-label">ä»˜è´¹/ä¹°æ–­</label>
                    <input type="checkbox" id="filter-price-freemium" value="freemium" onchange="applyFilters()">
                    <label for="filter-price-freemium" class="checkbox-label">å…è´¹å¢å€¼</label>
                 </div>
            </div>
            <div class="filter-group">
                <label>æ ¸å¿ƒç‰¹æ€§:</label>
                 <div class="filter-options">
                    <input type="checkbox" id="filter-features-wysiwyg" value="wysiwyg" onchange="applyFilters()">
                    <label for="filter-features-wysiwyg" class="checkbox-label">æ‰€è§å³æ‰€å¾—</label>
                    <input type="checkbox" id="filter-features-math" value="math" onchange="applyFilters()">
                    <label for="filter-features-math" class="checkbox-label">æ•°å­¦å…¬å¼</label>
                     <input type="checkbox" id="filter-features-citation" value="citation" onchange="applyFilters()">
                    <label for="filter-features-citation" class="checkbox-label">å¼•ç”¨ç®¡ç†</label>
                    <input type="checkbox" id="filter-features-knowledge" value="knowledge" onchange="applyFilters()">
                    <label for="filter-features-knowledge" class="checkbox-label">çŸ¥è¯†ç®¡ç†</label>
                    <input type="checkbox" id="filter-features-minimalist" value="minimalist" onchange="applyFilters()">
                    <label for="filter-features-minimalist" class="checkbox-label">æç®€</label>
                     <input type="checkbox" id="filter-features-custom" value="custom" onchange="applyFilters()">
                    <label for="filter-features-custom" class="checkbox-label">é«˜åº¦å®šåˆ¶</label>
                     <input type="checkbox" id="filter-features-opensource" value="opensource" onchange="applyFilters()">
                    <label for="filter-features-opensource" class="checkbox-label">å¼€æº</label>
                    <input type="checkbox" id="filter-features-academic" value="academic" onchange="applyFilters()">
                    <label for="filter-features-academic" class="checkbox-label">å­¦æœ¯åŠŸèƒ½</label>
                </div>
            </div>
            <div class="filter-group">
                <label>å¹³å°:</label>
                <div class="filter-options">
                    <input type="checkbox" id="filter-platforms-windows" value="windows" onchange="applyFilters()">
                     <label for="filter-platforms-windows" class="checkbox-label">Windows</label>
                    <input type="checkbox" id="filter-platforms-macos" value="macos" onchange="applyFilters()">
                     <label for="filter-platforms-macos" class="checkbox-label">macOS</label>
                    <input type="checkbox" id="filter-platforms-linux" value="linux" onchange="applyFilters()">
                     <label for="filter-platforms-linux" class="checkbox-label">Linux</label>
                    <input type="checkbox" id="filter-platforms-ios" value="ios" onchange="applyFilters()">
                     <label for="filter-platforms-ios" class="checkbox-label">iOS</label>
                    <input type="checkbox" id="filter-platforms-android" value="android" onchange="applyFilters()">
                     <label for="filter-platforms-android" class="checkbox-label">Android</label>
                </div>
            </div>
        </section>

        <!-- 3. Table Section (Visually connected to filters) -->
        <section class="table-section">
             <div class="table-container">
                <table id="editorsTable">
                    <thead>
                        <tr>
                            <th onclick="sortTable(0, 'string')">è½¯ä»¶åç§° <span class="sort-indicator"></span></th>
                            <th onclick="sortTable(1, 'string')">æ ¸å¿ƒä¼˜åŠ¿ <span class="sort-indicator"></span></th>
                            <th onclick="sortTable(2, 'tags')">ç‰¹æ€§æ ‡ç­¾ <span class="sort-indicator"></span></th>
                             <th onclick="sortTable(3, 'price')">ä»·æ ¼ <span class="sort-indicator"></span></th>
                            <th onclick="sortTable(4, 'platforms')">æ”¯æŒå¹³å° <span class="sort-indicator"></span></th>
                            <th>ä¸‹è½½</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr data-features="wysiwyg math paid cross-platform real-time-preview" data-price="paid" data-platforms="windows macos linux">
                            <td>
                                <div class="icon-cell">
                                    <img src="https://typora.io/img/favicon-64.png" alt="Typora Logo">
                                    <span>Typora</span>
                                </div>
                            </td>
                            <td>æ‰€è§å³æ‰€å¾—ï¼Œæ’ç‰ˆä¼˜ç§€ï¼Œå…¬å¼æ”¯æŒå¥½</td>
                            <td>
                                <span class="tag">æ‰€è§å³æ‰€å¾—</span>
                                <span class="tag">æ•°å­¦å…¬å¼</span>
                                 <span class="tag">è·¨å¹³å°</span>
                                <span class="tag">å®æ—¶é¢„è§ˆ</span>
                            </td>
                            <td><span class="tag paid">$14.99 ä¹°æ–­</span></td>
                            <td>
                                <img src="https://img.icons8.com/color/48/windows-10.png" alt="Windows" class="platform-icon" title="Windows">
                                <img src="https://img.icons8.com/color/48/mac-os.png" alt="macOS" class="platform-icon" title="macOS">
                                <img src="https://img.icons8.com/color/48/linux--v1.png" alt="Linux" class="platform-icon" title="Linux">
                            </td>
                            <td class="download-link"><a href="https://typora.io/" target="_blank">è®¿é—®å®˜ç½‘</a></td>
                        </tr>
                        <tr data-features="knowledge citation custom freemium cross-platform plugins bidirectional-links local-first academic" data-price="freemium" data-platforms="windows macos linux ios android">
                            <td>
                                <div class="icon-cell">
                                    <img src="https://obsidian.md/favicon.ico" alt="Obsidian Logo">
                                    <span>Obsidian</span>
                                </div>
                            </td>
                            <td>çŸ¥è¯†ç®¡ç†å¼ºå¤§ï¼Œæ’ä»¶ä¸°å¯Œï¼Œæœ¬åœ°å­˜å‚¨</td>
                             <td>
                                <span class="tag">çŸ¥è¯†ç®¡ç†</span>
                                <span class="tag">åŒå‘é“¾æ¥</span>
                                 <span class="tag">å¼•ç”¨ç®¡ç†</span>
                                <span class="tag">æ’ä»¶ç”Ÿæ€</span>
                                <span class="tag">è·¨å¹³å°</span>
                                 <span class="tag freemium">å…è´¹å¢å€¼</span>
                            </td>
                            <td><span class="tag freemium">å…è´¹ (å¯é€‰ä»˜è´¹)</span></td>
                            <td>
                                 <img src="https://img.icons8.com/color/48/windows-10.png" alt="Windows" class="platform-icon" title="Windows">
                                <img src="https://img.icons8.com/color/48/mac-os.png" alt="macOS" class="platform-icon" title="macOS">
                                <img src="https://img.icons8.com/color/48/linux--v1.png" alt="Linux" class="platform-icon" title="Linux">
                                <img src="https://img.icons8.com/color/48/ios-logo.png" alt="iOS" class="platform-icon" title="iOS">
                                <img src="https://img.icons8.com/color/48/android-os.png" alt="Android" class="platform-icon" title="Android">
                            </td>
                           <td class="download-link"><a href="https://obsidian.md/" target="_blank">è®¿é—®å®˜ç½‘</a></td>
                        </tr>
                        <tr data-features="wysiwyg math free opensource cross-platform real-time-preview" data-price="free" data-platforms="windows macos linux">
                            <td>
                                 <div class="icon-cell">
                                    <!-- Using a cleaner SVG or better quality icon if possible -->
                                    <img src="https://bestofjs.org/_next/image?url=https%3A%2F%2Favatars.githubusercontent.com%2Fu%2F36623013%3Fv%3D3%26s%3D150&w=150&q=75" alt="MarkText Logo" style="background: #eee; padding: 2px;"> <!-- Added slight background for visibility -->
                                    <span>MarkText</span>
                                </div>
                            </td>
                            <td>å…è´¹å¼€æºï¼ŒTypora ä¼˜ç§€æ›¿ä»£å“ï¼Œç•Œé¢ç®€æ´</td>
                             <td>
                                 <span class="tag">æ‰€è§å³æ‰€å¾—</span>
                                <span class="tag">æ•°å­¦å…¬å¼</span>
                                <span class="tag free">å…è´¹</span>
                                <span class="tag">å¼€æº</span>
                                 <span class="tag">è·¨å¹³å°</span>
                            </td>
                            <td><span class="tag free">å…è´¹</span></td>
                           <td>
                                <img src="https://img.icons8.com/color/48/windows-10.png" alt="Windows" class="platform-icon" title="Windows">
                                <img src="https://img.icons8.com/color/48/mac-os.png" alt="macOS" class="platform-icon" title="macOS">
                                <img src="https://img.icons8.com/color/48/linux--v1.png" alt="Linux" class="platform-icon" title="Linux">
                            </td>
                            <td class="download-link"><a href="https://marktext.app/" target="_blank">è®¿é—®å®˜ç½‘</a></td>
                        </tr>
                         <tr data-features="citation math free opensource cross-platform academic pandoc" data-price="free" data-platforms="windows macos linux">
                            <td>
                               <div class="icon-cell">
                                    <img src="https://www.zettlr.com/themes/zettlr/assets/img/256x256.png" alt="Zettlr Logo"> <!-- Using SVG icon -->
                                    <span>Zettlr</span>
                                </div>
                            </td>
                            <td>ä¸“ä¸ºå­¦æœ¯è®¾è®¡ï¼Œå†…ç½®å¼•ç”¨æ”¯æŒ (Zotero/CSL)</td>
                             <td>
                                <span class="tag">å¼•ç”¨ç®¡ç†</span>
                                <span class="tag academic">å­¦æœ¯å†™ä½œ</span>
                                 <span class="tag">æ•°å­¦å…¬å¼</span>
                                 <span class="tag free">å…è´¹</span>
                                <span class="tag opensource">å¼€æº</span>
                                 <span class="tag">è·¨å¹³å°</span>
                            </td>
                             <td><span class="tag free">å…è´¹</span></td>
                            <td>
                                 <img src="https://img.icons8.com/color/48/windows-10.png" alt="Windows" class="platform-icon" title="Windows">
                                <img src="https://img.icons8.com/color/48/mac-os.png" alt="macOS" class="platform-icon" title="macOS">
                                <img src="https://img.icons8.com/color/48/linux--v1.png" alt="Linux" class="platform-icon" title="Linux">
                            </td>
                           <td class="download-link"><a href="https://www.zettlr.com/" target="_blank">è®¿é—®å®˜ç½‘</a></td>
                        </tr>
                         <tr data-features="custom math free opensource cross-platform plugins version-control coder-friendly" data-price="free" data-platforms="windows macos linux">
                             <td>
                                <div class="icon-cell">
                                    <!-- Using official SVG icon -->
                                    <img src="https://code.visualstudio.com/assets/images/code-stable.png" alt="VS Code/VSCodium Logo">
                                    <span>VSCodium / VS Code</span>
                                </div>
                            </td>
                            <td>é«˜åº¦å¯å®šåˆ¶ï¼Œæ’ä»¶ä¸°å¯Œï¼Œé›†æˆç‰ˆæœ¬æ§åˆ¶</td>
                             <td>
                                <span class="tag custom">é«˜åº¦å®šåˆ¶</span>
                                <span class="tag">æ’ä»¶ç”Ÿæ€</span>
                                 <span class="tag">æ•°å­¦å…¬å¼</span>
                                  <span class="tag">ç‰ˆæœ¬æ§åˆ¶</span>
                                <span class="tag free">å…è´¹</span>
                                <span class="tag opensource">å¼€æº</span>
                                 <span class="tag">è·¨å¹³å°</span>
                            </td>
                             <td><span class="tag free">å…è´¹</span></td>
                            <td>
                                <img src="https://img.icons8.com/color/48/windows-10.png" alt="Windows" class="platform-icon" title="Windows">
                                <img src="https://img.icons8.com/color/48/mac-os.png" alt="macOS" class="platform-icon" title="macOS">
                                <img src="https://img.icons8.com/color/48/linux--v1.png" alt="Linux" class="platform-icon" title="Linux">
                            </td>
                            <td class="download-link"><a href="https://vscodium.com/" target="_blank">è®¿é—®å®˜ç½‘</a></td>
                        </tr>
                         <tr data-features="minimalist paid cross-platform focus syntax-highlight grammar" data-price="paid" data-platforms="windows macos ios android">
                             <td>
                                <div class="icon-cell">
                                    <!-- Using a potentially cleaner logo URL -->
                                    <img src="https://static.macupdate.com/products/50027/m/ia-writer-logo.webp" alt="iA Writer Logo">
                                    <span>iA Writer</span>
                                </div>
                            </td>
                            <td>æè‡´ç®€æ´ï¼Œä¸“æ³¨å†™ä½œï¼Œè¯­æ³•é«˜äº®</td>
                             <td>
                                <span class="tag minimalist">æç®€</span>
                                 <span class="tag">ä¸“æ³¨æ¨¡å¼</span>
                                <span class="tag">è¯­æ³•æ£€æŸ¥</span>
                                 <span class="tag">è·¨å¹³å°</span>
                            </td>
                             <td><span class="tag paid">çº¦ $29.99+</span></td>
                             <td>
                                <img src="https://img.icons8.com/color/48/windows-10.png" alt="Windows" class="platform-icon" title="Windows">
                                <img src="https://img.icons8.com/color/48/mac-os.png" alt="macOS" class="platform-icon" title="macOS">
                                 <img src="https://img.icons8.com/color/48/ios-logo.png" alt="iOS" class="platform-icon" title="iOS">
                                <img src="https://img.icons8.com/color/48/android-os.png" alt="Android" class="platform-icon" title="Android">
                            </td>
                            <td class="download-link"><a href="https://ia.net/writer" target="_blank">è®¿é—®å®˜ç½‘</a></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- 4. Extra Tips Section (Cards) -->
         <section class="extra-tips-section">
             <h2>é¢å¤–æç¤º</h2>
             <div class="tip-cards-container">
                 <div class="tip-card">
                     <span class="tip-icon">ğŸ“š</span>
                     <div class="tip-content">
                        <strong>æ–‡çŒ®ç®¡ç†</strong>
                        <p>å¼ºçƒˆå»ºè®®æ­é… <a href="https://www.zotero.org/" target="_blank">Zotero</a> æˆ– <a href="https://www.mendeley.com/" target="_blank">Mendeley</a>ã€‚Zettlr å’Œ Obsidian å¯ç›´æ¥é›†æˆï¼Œå…¶ä»–è½¯ä»¶å¯é€šè¿‡æ’ä»¶æˆ– BibTeX æ–‡ä»¶é…åˆä½¿ç”¨ã€‚</p>
                     </div>
                 </div>
                  <div class="tip-card">
                     <span class="tip-icon">ğŸ“¤</span>
                     <div class="tip-content">
                         <strong>å¯¼å‡ºæ ¼å¼</strong>
                         <p>è®ºæ–‡å¸¸éœ€ Word æˆ– PDFã€‚Typora å’Œ Zettlr å¯¼å‡ºè¾ƒæ–¹ä¾¿ã€‚å…¶ä»–ç¼–è¾‘å™¨å¯å€ŸåŠ© <a href="https://pandoc.org/" target="_blank">Pandoc</a> (å‘½ä»¤è¡Œå·¥å…·) è¿›è¡Œå¼ºå¤§æ ¼å¼è½¬æ¢ã€‚</p>
                     </div>
                 </div>
                  <div class="tip-card">
                     <span class="tip-icon">ğŸ’¾</span>
                     <div class="tip-content">
                         <strong>å¤‡ä»½ä¸ç‰ˆæœ¬æ§åˆ¶</strong>
                         <p>Markdown æ–‡ä»¶è½»ä¾¿ï¼ŒåŠ¡å¿…ä½¿ç”¨ Git (å¦‚ GitHub/GitLab) æˆ–äº‘ç›˜ (OneDrive/åšæœäº‘ç­‰) å¤‡ä»½å’Œç®¡ç†ç‰ˆæœ¬ï¼Œé˜²æ­¢ä¸¢å¤±å¹¶è¿½è¸ªä¿®æ”¹ã€‚</p>
                    </div>
                 </div>
                  <div class="tip-card">
                     <span class="tip-icon">ğŸ“</span>
                     <div class="tip-content">
                         <strong>å­¦ä¹  Markdown</strong>
                         <p>è¯­æ³•ç®€å•ï¼Œ10-20åˆ†é’Ÿå³å¯æŒæ¡åŸºç¡€ã€‚å¯å‚è€ƒ <a href="https://www.markdownguide.org/basic-syntax/" target="_blank">Markdown Guide</a> æˆ–æœç´¢ä¸­æ–‡æ•™ç¨‹å¿«é€Ÿå…¥é—¨ã€‚</p>
                     </div>
                 </div>
             </div>
        </section>

    </div>

    <script>
        // --- Theme Toggle Logic ---
        const themeToggle = document.getElementById('theme-toggle');
        const body = document.body;
        const prefersDarkScheme = window.matchMedia("(prefers-color-scheme: dark)");

        // Function to set theme based on preference or saved value
        function setTheme(theme) {
            body.setAttribute('data-theme', theme);
            localStorage.setItem('theme', theme);
            updateThemeToggleIcon(theme);
        }

        // Function to update the toggle icon
        function updateThemeToggleIcon(theme) {
            themeToggle.textContent = theme === 'dark' ? 'â˜€ï¸' : 'ğŸŒ™';
        }

        // Check local storage first
        const savedTheme = localStorage.getItem('theme');

        if (savedTheme) {
            setTheme(savedTheme);
        } else {
            // If no saved theme, use system preference
            const systemTheme = prefersDarkScheme.matches ? 'dark' : 'light';
            setTheme(systemTheme);
        }

        // Toggle theme on button click
        themeToggle.addEventListener('click', () => {
            const currentTheme = body.getAttribute('data-theme');
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            setTheme(newTheme);
        });

        // Listen for system theme changes (optional, but good practice)
        prefersDarkScheme.addEventListener('change', (e) => {
             // Only change if no theme is explicitly saved by the user
             if (!localStorage.getItem('theme')) {
                 const newTheme = e.matches ? 'dark' : 'light';
                 setTheme(newTheme);
             }
         });


        // --- Filtering Logic ---
        function applyFilters() {
            const filters = {
                price: getCheckedValues('price'),
                features: getCheckedValues('features'),
                platforms: getCheckedValues('platforms')
            };

            const rows = document.querySelectorAll('#editorsTable tbody tr');
            let visibleCount = 0;
            rows.forEach(row => {
                const rowPrice = row.getAttribute('data-price');
                const rowFeatures = row.getAttribute('data-features').split(' ');
                const rowPlatforms = row.getAttribute('data-platforms').split(' ');

                // Price Matching Logic:
                let priceMatch = filters.price.length === 0 || filters.price.includes(rowPrice);
                // Freemium special case: If 'free' or 'paid' is checked, freemium should also match
                if (!priceMatch && rowPrice === 'freemium' && (filters.price.includes('free') || filters.price.includes('paid'))) {
                     priceMatch = true;
                 }


                // Features Matching Logic: ALL selected features must be present
                const featuresMatch = filters.features.length === 0 || filters.features.every(filter => rowFeatures.includes(filter));

                // Platforms Matching Logic: ALL selected platforms must be present
                const platformsMatch = filters.platforms.length === 0 || filters.platforms.every(filter => rowPlatforms.includes(filter));

                // Combine Matches and Show/Hide Row
                if (priceMatch && featuresMatch && platformsMatch) {
                    row.style.display = ''; // Show row using table-row default
                    visibleCount++;
                } else {
                    row.style.display = 'none'; // Hide row
                }
            });

             // Optional: Add a message if no results match
             // You might want to add a specific element (e.g., a div with id="no-results")
             // const noResultsMessage = document.getElementById('no-results');
             // if (noResultsMessage) {
             //    noResultsMessage.style.display = visibleCount === 0 ? 'block' : 'none';
             // }
        }


        function getCheckedValues(groupName) {
             const checkboxes = document.querySelectorAll(`.filters-section input[type="checkbox"][id^="filter-${groupName}-"]`);
             const checked = [];
             checkboxes.forEach(cb => {
                 if (cb.checked) {
                     // Extract value from ID (e.g., "filter-price-free" -> "free")
                     const value = cb.id.substring(`filter-${groupName}-`.length);
                     if (value) checked.push(value);
                 }
             });
            return checked;
        }

        // --- Sorting Logic ---
        let sortDirections = {}; // Store sort direction for each column index { columnIndex: 'asc' | 'desc' }

        function sortTable(columnIndex, type) {
            const table = document.getElementById('editorsTable');
            const tbody = table.tBodies[0];
            const rows = Array.from(tbody.rows); // Get rows currently visible or all? Get all for stable sort.
            const header = table.tHead.rows[0].cells[columnIndex];

             // Determine sort direction: If different column, default asc. If same column, toggle.
            const currentDirection = sortDirections[columnIndex];
            let direction;
             if (currentDirection) {
                 direction = currentDirection === 'asc' ? 'desc' : 'asc';
             } else {
                 direction = 'asc';
             }
             // Reset directions for other columns and set for current
             sortDirections = { [columnIndex]: direction };

             // Update header styles and indicators
            table.querySelectorAll('th').forEach((th, index) => {
                th.classList.remove('sorted-asc', 'sorted-desc');
                const indicator = th.querySelector('.sort-indicator');
                if(indicator) indicator.textContent = '';
                 if (index === columnIndex) {
                    th.classList.add(direction === 'asc' ? 'sorted-asc' : 'sorted-desc');
                     if(indicator) indicator.textContent = direction === 'asc' ? 'â–²' : 'â–¼';
                }
            });

            // Sort rows
            rows.sort((a, b) => {
                // Get cell values, considering currently hidden rows might exist
                let valA = getCellValue(a, columnIndex, type);
                let valB = getCellValue(b, columnIndex, type);

                let comparison = 0;

                // Comparison logic based on type
                switch (type) {
                    case 'string':
                        valA = String(valA).toLowerCase();
                        valB = String(valB).toLowerCase();
                        comparison = valA.localeCompare(valB, 'zh-CN'); // Use localeCompare for strings
                        break;
                    case 'tags':
                    case 'platforms':
                        // Sort primarily by count, then alphabetically
                        const countA = valA.split(' ').filter(Boolean).length;
                        const countB = valB.split(' ').filter(Boolean).length;
                        comparison = countA - countB;
                        if (comparison === 0) { // If counts are equal, sort by string representation
                             comparison = String(valA).localeCompare(String(valB), 'zh-CN');
                        }
                        break;
                    case 'price':
                        const priceA = getPriceSortValue(valA);
                        const priceB = getPriceSortValue(valB);
                        comparison = priceA - priceB;
                        if (comparison === 0) { // If prices are equivalent, sort by name
                            const nameA = getCellValue(a, 0, 'string').toLowerCase();
                            const nameB = getCellValue(b, 0, 'string').toLowerCase();
                            comparison = nameA.localeCompare(nameB, 'zh-CN');
                        }
                        break;
                    default: // Assume numeric or fallback to string compare
                        const numA = parseFloat(valA);
                        const numB = parseFloat(valB);
                        if (!isNaN(numA) && !isNaN(numB)) {
                             comparison = numA - numB;
                        } else {
                            comparison = String(valA).localeCompare(String(valB), 'zh-CN');
                        }
                        break;
                }

                // Apply direction
                return direction === 'asc' ? comparison : -comparison;
            });

            // Re-append sorted rows to tbody
            // Using fragment improves performance slightly for large tables
            const fragment = document.createDocumentFragment();
            rows.forEach(row => fragment.appendChild(row));
            tbody.appendChild(fragment);
        }

        // Helper to get comparable value for price sorting
        function getPriceSortValue(priceString) {
            const text = String(priceString).toLowerCase();
            if (text.includes('å…è´¹') && !text.includes('å¢å€¼')) return 1; // Free first
            if (text.includes('å…è´¹å¢å€¼') || text.includes('freemium')) return 2; // Then Freemium
            if (text.includes('ä»˜è´¹') || text.includes('paid') || text.includes('ä¹°æ–­') || text.includes('$')) {
                 // Try to extract numeric value for better sorting within paid tier
                 const priceMatch = text.match(/\$(\d+(\.\d+)?)/);
                 // Assign a base value + numeric price, e.g., 100 + price
                 return priceMatch ? 100 + parseFloat(priceMatch[1]) : 150; // Paid (with number) or Paid (generic)
            }
             return 999; // Unknown/Other last
        }

         // Helper function to get cell content for sorting
         function getCellValue(row, index, type) {
            const cell = row.cells[index];
             if (!cell) return '';

            switch (type) {
                case 'tags':
                    // Get tags from the cell content itself for sorting consistency
                     const tags = Array.from(cell.querySelectorAll('.tag')).map(tag => tag.textContent.trim());
                     // Check data-attribute for hidden tags like 'academic' if necessary
                     const dataFeatures = row.getAttribute('data-features').split(' ');
                      if (dataFeatures.includes('academic') && !tags.includes('å­¦æœ¯å†™ä½œ')) {
                         // Add based on data attribute if not visually present but relevant for filtering/sorting
                         // This depends on how you structure tags vs features
                         // Example: Include 'å­¦æœ¯å†™ä½œ' if 'academic' feature exists
                         // Find the visual tag corresponding to 'academic' if needed
                         const academicTag = Array.from(cell.querySelectorAll('.tag.academic')).map(t=>t.textContent.trim())[0];
                         if(academicTag && !tags.includes(academicTag)) tags.push(academicTag);
                         else if (!academicTag && dataFeatures.includes('academic')) tags.push('å­¦æœ¯å†™ä½œ'); // Add if data says so
                     }
                     return tags.sort().join(' '); // Sort alphabetically for consistent comparison
                case 'platforms':
                     // Get platforms from image titles/alt text
                     const platforms = Array.from(cell.querySelectorAll('.platform-icon'))
                                          .map(img => img.title || img.alt || '') // Get title or alt
                                          .filter(Boolean); // Remove empty strings
                     return platforms.sort().join(' '); // Sort alphabetically
                case 'price':
                    // Find the specific price tag/span
                    const priceSpan = cell.querySelector('.tag.free, .tag.paid, .tag.freemium');
                    return priceSpan ? priceSpan.textContent.trim() : cell.textContent.trim();
                case 'string': // Explicitly handle string, especially for the name column
                    if (index === 0) { // Name column with icon
                        const nameSpan = cell.querySelector('.icon-cell span');
                        return nameSpan ? nameSpan.textContent.trim() : cell.textContent.trim();
                    }
                    // Fallthrough for other string columns
                default:
                    return cell.textContent.trim(); // Default: trimmed text content
            }
        }

         // Initial filter application on load
         document.addEventListener('DOMContentLoaded', () => {
             applyFilters(); // Apply filters based on any initially checked boxes (usually none)
             // Optional: Add initial sort if desired, e.g., by name
             // sortTable(0, 'string');
         });

    </script>

</body>
</html>